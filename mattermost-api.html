<script type="text/javascript">
  RED.nodes.registerType("mattermost-api", {
    category: "mattermost",
    defaults: {
      name: { value: "Mattermost API" },
      host: { value: "", type: "mattermost-config" },
    },
    inputs: 1,
    outputs: 1,
    icon: "white-globe.png",
    color: "#a6bbcf",
    label: function () {
      return this.name || "mattermost-api";
    },
  });
</script>

<script type="text/html" data-template-name="mattermost-api">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name" />
  </div>
  <div class="form-row">
    <label for="node-input-host"><i class="icon-bookmark"></i> Host</label>
    <input type="text" id="node-input-host" />
  </div>
</script>

<script type="text/html" data-help-name="mattermost-client">
  <p>
    clients any methods detailed in mm api. Takes into argument a msg with 2
    properties: method and args.
  </p>
  <p>
    You can use variable $SESSION which will be replaced by the client session
    you set on config.
  </p>
  <code>
    msg = { method: 'mm.product.get', args: { 'fields': 'outer_id',
    'product_id': 123456 } }
  </code>
</script>
